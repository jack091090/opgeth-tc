FROM ubuntu:22.04

RUN apt-get update
RUN apt-get install -y ca-certificates cronolog cron
ENV DEBIAN_FRONTEND=noninteractive
RUN apt-get install -yq dnsutils

ARG commit=commit
ENV commit=$commit

RUN mkdir -p /app/logs /app/bin /app/resources

WORKDIR /app

COPY ./build/bin/geth /app/bin/.
RUN chmod +x /app/bin/geth

COPY ./run_opgeth.sh /app/.
RUN chmod +x /app/run_opgeth.sh

CMD ["/bin/bash","run_opgeth.sh"]



